<!--
File Name:
    ForgotPassword.cshtml

Author:
    Longji

Date Created:
    07/08/2020

Update History:
--------------------------------------------------------------------------------
Date          |    Author      |     Changes
--------------------------------------------------------------------------------
07/08/2020    |  Longji        |  Created the forgot password page
--------------------------------------------------------------------------------

Functional Description:


List of Classes:
    - None
-->

<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
        <link rel="shortcut icon" href="@Url.Content("~/assets/images/dumbbell-128x128-1.png")" type="image/x-icon" />

        <title>Forgot Password</title>

        <link rel="stylesheet" href="@Url.Content("~/assets/bootstrap/css/bootstrap.min.css")">
        <link rel="stylesheet" href="@Url.Content("~/assets/bootstrap/css/bootstrap-grid.min.css")">
        <link rel="stylesheet" href="@Url.Content("~/assets/bootstrap/css/bootstrap-reboot.min.css")">
        <link rel="stylesheet" href="@Url.Content("~/assets/styles.css")">
    </head>

    <body>
        <section>
            <nav class="navbar navbar-expand navbar-dark barColour">
                <img style="vertical-align: top; height: 90px;" src="@Url.Content("~/assets/images/dumbbell-128x128-1.png")" alt="" title="">
                <div style="width: 40%;">
                    <p id="heading">Gym Moves</p>
                </div>
                <div style="width: 50%;">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Content("~/GymMoves")">About us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Content("~/GymMembers")">Gym Members</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Content("~/GymInstructors")">Gym Instructors</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Content("~/GymManagers")">Gym Managers</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Content("~/HowToRegisterMyGym")">Register My Gym</a>
                        </li>

                    </ul>
                </div>
            </nav>
        </section>

        <section>
            <div class="col-md-12 d-flex flex-column justify-content-center">
                <div class="col-lg-6 col-md-8 mx-auto">
                    <div class="card-body">
                        <form role="form" autocomplete="off" id="forgotpassword" method="get" novalidate="">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" class="form-control form-control-lg" name="username" id="username" />
                            </div>

                            <div id="haveCode" align="right">
                                Already have password reset code?
                            </div>

                            <div align="center" class="form-group">
                                <!-- Onclick function is not written! -->
                                <button type="button" class="btn button-colour" onclick="getCode()">Get Code</button>
                            </div>

                            <div id="notifyField" align="center" style="color:darkgray">
                                An email will be sent to the email address associated with your account. You will be redirected to a page to enter this code as well as your new password.
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section once="footers" class="footer barColour">
            <div class="container">

                © Copyright 2020 Gym Moves - All Rights Reserved

            </div>
        </section>

        <script src="@Url.Content("~/assets/jquery.min.js")"></script>

        <script>
        async function getCode() {
            var username = document.getElementById("username").value;

            console.log(username);

            jQuery.ajax({
                url: "@Url.Content("~/api/user/getcode")",
                type: "GET",
                data: {
                    username: username
                },
                success: function (result) {
                    console.log(result);
                }
            });
        }
        </script>
    </body>
</html>